<% include ../partials/header.ejs %>

  <div class='container bg-primary'>
      <h1>Sign Up</h1>
      <label> Name: </label><br/>
      <input id="name" type="text" placeholder="name"/><br/><br/>
      <label> Email: </label><br/>
      <input id="email" type="email" placeholder="email"/><br/><br/>
      <label> Username: </label><br/>
      <input id="username" type="text" placeholder="username"/><br/><br/>
      <label> Password: </label><br/>
      <input id="password" type="password"/><br/><br/>
      <button id="submit"  class='btn btn-info'>Submit</button>
      <br/>
      <div id="error"></div>
      <br/>
  </div>
    
  </body>
  <script src="/lib/jquery/dist/jquery.min.js"></script>
  <script src="/vendor/ejs_production.js"></script>
  <script>
  var user = {};
    $("#submit").click(function(event){
      user.name=$("#name").val();
      user.username=$("#username").val();
      user.email=$("#email").val();
      user.password=$("#password").val();
      $.ajax({
        method: 'POST',
        url: "/auth/signup",
        data: user
      }).done(function(response){
        window.location.replace('/signin');
      }).fail(function(response){
        $("#error").text("Something went wrong! Try again.");
      });
    });
  </script>
</html>
